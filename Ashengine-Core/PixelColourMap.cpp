#include "PixelColourMap.hpp"

Colour PixelColourMap::SeedColours[376] =
{
	/*Black         */  { 0,   0,   0   },
	/*Dark_Blue     */  { 255, 0,   0   },
	/*Dark_Green    */  { 0,   255, 0   },
	/*Dark_Cyan     */  { 0,   0,   255 },
	/*Dark_Red      */  { 255, 255, 0   },
	/*Dark_Magenta  */  { 255, 0,   255 },
	/*Dark_Yellow   */  { 0,   255, 255 },
	/*Dark_White    */  { 255, 255, 255 },
	/*Bright_Black  */  { 85,  85,  85  },
	/*Bright_Blue   */  { 170, 85,  85  },
	/*Bright_Green  */  { 85,  170, 85  },
	/*Bright_Cyan   */  { 85,  85,  170 },
	/*Bright_Red    */  { 170, 170, 85  },
	/*Bright_Magenta*/  { 170, 85,  170 },
	/*Bright_Yellow */  { 85,  170, 170 },
	/*White         */  { 170, 170, 170 }
};

bool PixelColourMap::Init()
{
	PixelColourMap& PCM = const_cast<PixelColourMap&>(Get());
	
	if (PCM.IsLoaded())
	{
		return true;
	}

	PCM.m_Pixels = new Pixel[16777216];

	if (PCM.Load())
	{
		return true;
	}

	return PCM.BuildAndSave();
}

const PixelColourMap& PixelColourMap::Get()
{
	static PixelColourMap PCM;
	return PCM;
}

bool PixelColourMap::IsLoaded()
{ 
	return m_IsLoaded; 
}

